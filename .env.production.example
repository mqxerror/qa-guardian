# =============================================================================
# QA Guardian - Production Environment Variables
# =============================================================================
# This file is a template for production deployment.
# Copy to .env and update the CHANGE_ME values before deploying.
#
# IMPORTANT: Never commit actual secrets to version control!
# This file with CHANGE_ME placeholders is safe to commit.
# =============================================================================

# =============================================================================
# APPLICATION MODE
# =============================================================================
NODE_ENV=production
PORT=3001

# =============================================================================
# FRONTEND URL - REQUIRED
# =============================================================================
# Used for CORS configuration and OAuth redirects
FRONTEND_URL=https://qa.pixelcraftedmedia.com

# =============================================================================
# DATABASE - REQUIRED (CHANGE THESE!)
# =============================================================================
# PostgreSQL connection string
# Generate password: openssl rand -base64 32
DATABASE_URL=postgresql://postgres:CHANGE_ME_POSTGRES_PASSWORD@postgres:5432/qa_guardian

# =============================================================================
# REDIS - REQUIRED (CHANGE THESE!)
# =============================================================================
# Redis connection for caching and job queue
# Generate password: openssl rand -base64 32
REDIS_URL=redis://:CHANGE_ME_REDIS_PASSWORD@redis:6379

# =============================================================================
# AUTHENTICATION SECRETS - REQUIRED (CHANGE THESE!)
# =============================================================================
# JWT tokens for API authentication
# Generate with: openssl rand -base64 64
JWT_SECRET=GENERATE_SECURE_SECRET_HERE_64_BYTES
JWT_REFRESH_SECRET=GENERATE_SECURE_SECRET_HERE_64_BYTES

# Session encryption
SESSION_SECRET=GENERATE_SECURE_SECRET_HERE_64_BYTES

# =============================================================================
# OBJECT STORAGE (MinIO) - REQUIRED (CHANGE THESE!)
# =============================================================================
# S3-compatible storage for screenshots, artifacts, and baselines
STORAGE_ENDPOINT=minio
STORAGE_PORT=9000
STORAGE_USE_SSL=false
STORAGE_ACCESS_KEY=minioadmin
STORAGE_SECRET_KEY=CHANGE_ME_MINIO_PASSWORD
STORAGE_BUCKET=qa-guardian-artifacts

# =============================================================================
# AI PROVIDERS - OPTIONAL (but recommended for AI features)
# =============================================================================
# Without these, AI features (MCP Chat, test generation, RCA) return 503 errors
#
# Primary: Kie.ai (70% cost savings on Claude models)
# Get your key: https://kie.ai/dashboard
AI_PROVIDER_PRIMARY=kie
KIE_API_KEY=

# Fallback: Anthropic (direct API access)
# Get your key: https://console.anthropic.com
AI_PROVIDER_FALLBACK=anthropic
ANTHROPIC_API_KEY=

# =============================================================================
# GOOGLE OAUTH - OPTIONAL
# =============================================================================
# Enable "Sign in with Google" on login page
# Configure at: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# =============================================================================
# GITHUB INTEGRATION - OPTIONAL
# =============================================================================
# Enable GitHub PR comments and repository sync
# Create GitHub App: https://github.com/settings/apps
GITHUB_APP_ID=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# =============================================================================
# EMAIL NOTIFICATIONS - OPTIONAL
# =============================================================================
# SMTP configuration for email alerts
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@qa.pixelcraftedmedia.com

# =============================================================================
# MONITORING - OPTIONAL
# =============================================================================
# Sentry for error tracking
SENTRY_DSN=

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying, you MUST change these values:
#
# 1. [ ] DATABASE_URL - Replace CHANGE_ME_POSTGRES_PASSWORD
# 2. [ ] REDIS_URL - Replace CHANGE_ME_REDIS_PASSWORD
# 3. [ ] JWT_SECRET - Generate with: openssl rand -base64 64
# 4. [ ] JWT_REFRESH_SECRET - Generate with: openssl rand -base64 64
# 5. [ ] SESSION_SECRET - Generate with: openssl rand -base64 64
# 6. [ ] STORAGE_SECRET_KEY - Replace CHANGE_ME_MINIO_PASSWORD
#
# Optional but recommended:
# 7. [ ] KIE_API_KEY or ANTHROPIC_API_KEY - For AI features
# 8. [ ] GOOGLE_CLIENT_ID/SECRET - For Google Sign-in
# 9. [ ] GITHUB_* - For GitHub integration
#
# =============================================================================
